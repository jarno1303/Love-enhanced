<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOVe Enhanced - Varmista lääkehoidon osaamisesi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .feature-icon {
            font-size: 2.5rem;
            width: 80px;
            height: 80px;
            background-color: #e8ebff;
            color: #667eea;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        .pricing-card {
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        .pricing-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 1rem 3rem rgba(0,0,0,.175)!important;
            border-color: #667eea;
        }
        .pricing-card.recommended {
            border-color: #667eea;
            border-width: 3px;
        }
        .btn-primary { background-color: #667eea; border: none; }
        .btn-primary:hover { background-color: #5a67d8; }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">
                <i class="fas fa-heartbeat text-primary me-2"></i>LOVe Enhanced
            </a>
            <div class="ms-auto">
                <a href="{{ url_for('login_route') }}" class="btn btn-outline-secondary me-2">Kirjaudu sisään</a>
                <a href="{{ url_for('register_route') }}" class="btn btn-primary">Luo tili</a>
            </div>
        </div>
    </nav>

    <header class="hero-section text-center py-5">
        <div class="container py-5">
            <h1 class="display-4 fw-bold">Varmista lääkehoidon osaamisesi – Älykkäämmin.</h1>
            <p class="lead my-4 col-md-8 mx-auto">LOVe Enhanced on moderni harjoittelualusta sote-alan opiskelijoille ja ammattilaisille. Opi tehokkaammin ja läpäise LOVe-tentti varmuudella.</p>
            <a href="#pricing" class="btn btn-light btn-lg fw-bold px-4">Katso hinnat ja aloita</a>
        </div>
    </header>

    <section class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Miksi LOVe Enhanced?</h2>
                <p class="text-muted">Enemmän kuin vain kysymyksiä ja vastauksia.</p>
            </div>
            <div class="row text-center">
                <div class="col-md-4 mb-4">
                    <div class="feature-icon mb-3"><i class="fas fa-brain"></i></div>
                    <h5 class="fw-bold">Älykäs Kertaus</h5>
                    <p class="text-muted">Järjestelmä oppii heikkoutesi ja tarjoaa sinulle juuri niitä kysymyksiä, joissa tarvitset eniten harjoitusta.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="feature-icon mb-3"><i class="fas fa-clipboard-check"></i></div>
                    <h5 class="fw-bold">Realistinen Koesimulaatio</h5>
                    <p class="text-muted">Harjoittele aidossa koeympäristössä, joka simuloi oikeaa LOVe-tenttiä aikarajoineen ja 50 kysymyksineen.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="feature-icon mb-3"><i class="fas fa-exclamation-triangle"></i></div>
                    <h5 class="fw-bold">Häiriötekijä-harjoittelu</h5>
                    <p class="text-muted">Opi keskittymään paineen alla. Sovellus simuloi yllättäviä keskeytyksiä, jotka ovat tuttuja aidosta hoitotyöstä.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="pricing" class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Valitse sinulle sopiva paketti</h2>
                <p class="text-muted">Aloita ilmaiseksi tai hanki täysi pääsy kaikkiin ominaisuuksiin.</p>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-4 mb-4">
                    <div class="card pricing-card h-100">
                        <div class="card-body p-4 d-flex flex-column">
                            <h5 class="card-title text-center fw-bold">Ilmainen Kokeilu</h5>
                            <div class="text-center my-4">
                                <span class="display-4 fw-bold">0 €</span>
                            </div>
                            <ul class="list-unstyled mb-4">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Rajoitettu määrä peruskysymyksiä</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Perusharjoittelu-tila</li>
                                <li class="mb-2 text-muted"><i class="fas fa-times me-2"></i>Ei koesimulaatiota</li>
                                <li class="mb-2 text-muted"><i class="fas fa-times me-2"></i>Ei älykästä kertausta</li>
                            </ul>
                            <div class="mt-auto">
                                <a href="{{ url_for('register_route') }}" class="btn btn-outline-primary w-100">Aloita ilmaiseksi</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="card pricing-card recommended h-100">
                        <div class="card-body p-4 d-flex flex-column">
                            <div class="text-center text-primary fw-bold">SUOSITUIN</div>
                            <h5 class="card-title text-center fw-bold mt-2">Tenttipaketti</h5>
                            <div class="text-center my-4">
                                <span class="display-4 fw-bold">14,90 €</span>
                                <span class="text-muted">/ 3 kk</span>
                            </div>
                            <ul class="list-unstyled mb-4">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i><strong>Kaikki 250+ kysymystä</strong></li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i><strong>Koesimulaatio ja älykäs kertaus</strong></li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kattavat tilastot ja analytiikka</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Häiriötekijä-harjoittelu</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Kaikki saavutukset</li>
                            </ul>
                            <div class="mt-auto">
                                <button id="checkout-button" class="btn btn-primary w-100 btn-lg">Osta nyt</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-5 text-center">
        <div class="container">
            <h3 class="fw-bold">Valmiina varmistamaan osaamisesi?</h3>
            <p class="text-muted mb-4">Luo tili ja aloita harjoittelu muutamassa minuutissa.</p>
            <a href="{{ url_for('register_route') }}" class="btn btn-primary btn-lg px-5">Aloita nyt</a>
        </div>
    </section>

    <footer class="py-4 bg-dark text-white-50">
        <div class="container text-center">
            <small>
                <span>© 2025 LOVe Enhanced. Kaikki oikeudet pidätetään.</span>
                <br>
                <a href="{{ url_for('terms_route') }}" class="text-white-50">Käyttöehdot</a> | 
                <a href="{{ url_for('privacy_route') }}" class="text-white-50">Tietosuojaseloste</a>
            </small>
        </div>
    </footer>

    <script src="https://js.stripe.com/v3/"></script>
    <script>
        // --- STRIPE-MAKSUNAPIN INTEGRAATIO ---
        // 1. Asenna Stripe Python-kirjasto: pip install stripe
        // 2. Määritä avaimet app.py-tiedostoon
        // 3. Luo reitti, joka luo maksulinkin
        
        const checkoutButton = document.getElementById('checkout-button');
        checkoutButton.addEventListener('click', function () {
            fetch('/create-checkout-session', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token() }}' // Varmista CSRF-suojaus
                }
            })
            .then(function (response) {
                return response.json();
            })
            .then(function (session) {
                if (session.url) {
                    window.location.href = session.url;
                } else {
                    alert('Maksun käsittelyssä tapahtui virhe. Yritä uudelleen.');
                }
            })
            .catch(function (error) {
                console.error('Error:', error);
            });
        });
    </script>

</body>
</html>